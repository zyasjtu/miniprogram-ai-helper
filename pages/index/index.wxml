<view class="container">
  <!-- È°∂ÈÉ®Ê†áÈ¢ò -->
  <view class="header">
    <text class="title">Your AI English Tutor</text>
    <text class="subtitle">Practice English with Alex</text>
  </view>

  <!-- ÂØπËØùÂéÜÂè≤Âå∫Âüü -->
  <scroll-view class="chat-container" scroll-y="{{true}}" scroll-top="{{scrollTop}}">
    <view class="chat-history">
      <block wx:for="{{messages}}" wx:key="index">
        <view class="message-item {{item.type === 'user' ? 'user-message' : 'ai-message'}}">
          <view class="message-content">
            <text class="message-text">{{item.text}}</text>
            <view wx:if="{{item.type === 'ai' && item.audioUrl}}" class="audio-player">
              <button class="play-btn" bindtap="playAudio" data-url="{{item.audioUrl}}">
                ‚ñ∂Ô∏è Play Response
              </button>
            </view>
          </view>
        </view>
      </block>
    </view>
  </scroll-view>

  <!-- ËæìÂÖ•Âå∫Âüü -->
  <view class="input-container">
    <textarea 
      class="text-input" 
      value="{{inputValue}}" 
      bindinput="onInput"
      placeholder="Type your message here..."
      auto-height
      maxlength="500"
    />
    <view class="button-group">
      <button 
        class="send-btn" 
        bindtap="sendMessage"
        disabled="{{!inputValue}}"
      >
        Send
      </button>
      <button 
        class="record-btn {{isRecording ? 'recording' : ''}}"
        bindtouchstart="startRecording"
        bindtouchend="stopRecording"
      >
        {{isRecording ? 'üé§ Recording...' : 'üé§'}}
      </button>
    </view>
  </view>
</view>
